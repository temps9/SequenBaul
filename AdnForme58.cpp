#include "AdnForme58.h"
#define combientaba 6024
#define combientabd 6024

// Génère les fichiers c.jo et c.joa
void genereFichierJo58(int piste,int quelpiano2,int quelpiano3,int quelpiano4,int quelpiano5,int quelpiano6,int quelpiano7,int quelpiano8,int quelpiano9,int quelpiano10,int quelpiano11,int quelpiano12,int quelpiano13,int quelpiano14,int quelpiano15)
{

choixconsonne(piste, quelpiano11, quelpiano12, quelpiano13, quelpiano14, quelpiano15);

if(quelpiano2>255)
quelpiano2 = 255;

if(quelpiano3>255)
quelpiano3 = 255;

if(quelpiano4>255)
quelpiano4 = 255;

if(quelpiano5>255)
quelpiano5 = 255;

if(quelpiano6>255)
quelpiano6 = 255;

if(quelpiano7 >255)
quelpiano7 = 255;

int position1;
int position2;
position1 = quelpiano6;
position2 = quelpiano7 * quelpiano8;
if(position2>1400)
position2=1400;

  // Nom du fichier jo
  char nomfichierjo[32];
  snprintf(nomfichierjo, 32, "%d.jo", piste);
  // Fichier jo
  FILE* fichierjo;
  if (!(fichierjo = fopen(nomfichierjo, "ab")))
   {
    exit(-1);
   }
// ici commence la zone de travail pour l'apprenant


//multiplie

    for(int laforcebbase = quelpiano10; laforcebbase > 0; laforcebbase--)
     {

// creation de la voyelle "A"



  int tabamplitude[combientaba] =
    { 

127, 129, 126, 129, 126, 129, 125, 130, 123, 131, 122, 132, 120, 132, 120, 128, 127, 132, 131, 132, 120, 132, 131, 132, 118, 133, 117, 128, 127, 134, 117, 127, 126, 134, 133, 134, 116, 128, 127, 134, 116, 135, 115, 129, 127, 136, 114, 129, 128, 135, 114, 130, 129, 135, 114, 131, 129, 135, 113, 131, 129, 135, 112, 131, 130, 136, 112, 135, 113, 131, 130, 135, 113, 131, 129, 135, 113, 130, 130, 133, 132, 133, 115, 134, 132, 133, 115, 130, 128, 133, 114, 130, 128, 135, 116, 135, 117, 135, 130, 131, 116, 136, 116, 137, 128, 130, 116, 139, 127, 132, 114, 137, 127, 134, 113, 136, 128, 133, 115, 136, 126, 134, 114, 136, 126, 136, 112, 134, 127, 136, 112, 135, 127, 135, 113, 135, 126, 136, 113, 135, 127, 136, 113, 135, 127, 136, 113, 136, 127, 136, 113, 137, 126, 138, 112, 136, 127, 138, 112, 136, 127, 138, 111, 136, 126, 138, 111, 137, 126, 139, 110, 137, 126, 139, 110, 138, 126, 139, 110, 138, 126, 139, 110, 139, 126, 138, 110, 140, 126, 138, 110, 140, 126, 137, 110, 140, 126, 137, 110, 140, 127, 137, 110, 140, 126, 137, 109, 139, 127, 137, 109, 139, 127, 136, 108, 139, 127, 137, 106, 139, 126, 138, 106, 139, 126, 138, 105, 139, 126, 139, 104, 140, 126, 139, 103, 140, 126, 140, 102, 140, 126, 141, 101, 141, 126, 141, 100, 141, 126, 142, 99, 143, 125, 143, 98, 143, 124, 143, 97, 145, 123, 144, 97, 146, 123, 144, 97, 147, 122, 145, 96, 149, 120, 146, 95, 150, 119, 147, 95, 151, 118, 147, 95, 151, 118, 147, 95, 152, 117, 147, 95, 152, 117, 147, 95, 153, 116, 147, 94, 153, 116, 148, 94, 152, 116, 148, 94, 153, 116, 146, 95, 152, 117, 146, 96, 152, 117, 146, 96, 151, 117, 146, 96, 151, 118, 146, 96, 151, 118, 146, 96, 151, 117, 146, 96, 151, 117, 145, 96, 151, 116, 147, 95, 151, 116, 148, 95, 150, 117, 148, 94, 150, 117, 148, 94, 150, 117, 149, 93, 150, 117, 150, 92, 149, 117, 150, 92, 148, 117, 151, 92, 148, 118, 151, 92, 145, 119, 150, 93, 147, 117, 152, 91, 145, 120, 150, 93, 145, 118, 152, 92, 144, 120, 150, 93, 145, 119, 151, 91, 144, 119, 151, 92, 143, 119, 151, 91, 143, 119, 151, 90, 144, 119, 152, 89, 143, 122, 150, 91, 142, 120, 150, 89, 144, 120, 151, 88, 145, 120, 152, 88, 145, 120, 152, 87, 146, 119, 154, 86, 146, 120, 153, 87, 146, 118, 156, 84, 147, 119, 155, 87, 145, 119, 154, 87, 149, 116, 157, 85, 147, 118, 155, 86, 147, 117, 154, 87, 147, 116, 155, 85, 150, 115, 155, 85, 148, 116, 152, 87, 152, 113, 155, 85, 149, 117, 150, 88, 152, 112, 155, 83, 151, 115, 152, 85, 154, 111, 156, 83, 152, 115, 154, 85, 153, 113, 155, 82, 152, 116, 154, 84, 150, 117, 153, 85, 150, 117, 153, 86, 149, 118, 152, 86, 149, 118, 152, 87, 148, 118, 152, 87, 150, 117, 152, 87, 149, 118, 152, 88, 150, 117, 151, 89, 151, 116, 152, 87, 152, 117, 151, 88, 152, 117, 150, 89, 152, 116, 151, 87, 154, 115, 153, 86, 152, 116, 151, 88, 154, 115, 152, 87, 153, 116, 152, 88, 153, 116, 152, 88, 153, 115, 151, 89, 154, 115, 153, 88, 153, 115, 152, 88, 153, 115, 152, 88, 153, 115, 153, 87, 154, 114, 155, 86, 152, 116, 154, 87, 152, 116, 154, 87, 152, 116, 154, 87, 150, 117, 154, 88, 150, 117, 154, 88, 150, 117, 154, 89, 148, 118, 153, 90, 149, 117, 153, 89, 149, 117, 153, 89, 148, 117, 153, 90, 147, 117, 153, 90, 147, 116, 154, 89, 147, 116, 154, 88, 147, 116, 154, 88, 147, 116, 155, 88, 147, 116, 155, 88, 147, 116, 155, 88, 145, 116, 154, 89, 145, 117, 154, 88, 144, 117, 153, 88, 144, 117, 154, 88, 143, 118, 152, 89, 144, 118, 153, 89, 143, 118, 152, 90, 143, 118, 152, 90, 142, 119, 150, 92, 142, 119, 149, 93, 141, 120, 148, 95, 137, 136, 141, 120, 148, 95, 140, 120, 148, 97, 140, 119, 149, 96, 140, 119, 148, 98, 141, 118, 148, 99, 133, 132, 141, 119, 147, 101, 131, 129, 144, 116, 149, 100, 133, 129, 142, 118, 146, 103, 130, 128, 144, 116, 147, 102, 131, 127, 143, 118, 145, 106, 128, 124, 146, 117, 146, 106, 128, 124, 145, 118, 143, 109, 125, 121, 148, 115, 145, 108, 125, 122, 147, 117, 143, 111, 149, 114, 146, 109, 122, 121, 148, 115, 145, 110, 148, 115, 146, 109, 121, 120, 149, 115, 146, 109, 147, 116, 146, 109, 147, 117, 146, 109, 147, 117, 146, 108, 147, 117, 146, 108, 145, 118, 145, 109, 145, 118, 146, 108, 144, 119, 146, 108, 145, 118, 149, 106, 144, 118, 149, 105, 144, 118, 150, 104, 143, 118, 150, 104, 144, 118, 151, 103, 144, 117, 151, 101, 144, 118, 151, 101, 144, 117, 152, 99, 144, 117, 152, 99, 144, 117, 152, 98, 143, 117, 152, 98, 143, 116, 153, 97, 144, 115, 153, 97, 144, 114, 155, 96, 144, 113, 156, 94, 144, 114, 155, 95, 144, 113, 155, 95, 144, 114, 154, 95, 146, 112, 155, 95, 146, 113, 154, 95, 146, 113, 154, 95, 146, 112, 155, 94, 147, 111, 156, 94, 147, 111, 156, 94, 148, 111, 157, 94, 147, 112, 157, 94, 146, 112, 157, 93, 145, 114, 156, 95, 145, 113, 156, 95, 145, 114, 155, 96, 146, 114, 155, 96, 145, 114, 155, 95, 131, 129, 145, 114, 155, 94, 132, 129, 143, 116, 153, 96, 132, 127, 144, 116, 153, 97, 131, 125, 145, 116, 151, 100, 130, 124, 147, 115, 150, 102, 129, 122, 148, 114, 150, 104, 127, 121, 149, 113, 149, 106, 126, 120, 148, 114, 147, 110, 124, 118, 149, 113, 146, 112, 123, 116, 151, 112, 145, 114, 121, 116, 151, 111, 147, 114, 119, 117, 151, 110, 149, 112, 149, 110, 150, 110, 148, 110, 152, 109, 147, 111, 152, 108, 145, 112, 152, 108, 123, 122, 143, 114, 152, 107, 124, 123, 142, 115, 151, 107, 125, 123, 141, 117, 150, 107, 126, 123, 140, 118, 149, 108, 126, 122, 140, 119, 148, 109, 127, 121, 141, 119, 147, 109, 127, 122, 140, 120, 146, 110, 126, 122, 141, 119, 146, 109, 127, 122, 140, 120, 145, 110, 127, 121, 142, 119, 144, 111, 128, 121, 142, 120, 143, 112, 127, 121, 142, 120, 141, 113, 126, 121, 141, 121, 140, 114, 125, 122, 141, 121, 139, 114, 125, 123, 140, 122, 139, 115, 125, 123, 139, 122, 138, 115, 125, 124, 138, 124, 138, 115, 138, 123, 139, 114, 137, 123, 140, 114, 137, 122, 141, 112, 137, 121, 142, 112, 138, 120, 144, 110, 138, 119, 144, 110, 138, 118, 145, 109, 138, 118, 145, 109, 137, 119, 144, 110, 137, 119, 144, 110, 138, 119, 143, 111, 138, 119, 142, 112, 138, 119, 142, 112, 137, 119, 142, 112, 137, 120, 141, 113, 137, 120, 141, 113, 136, 120, 141, 113, 135, 120, 141, 113, 135, 121, 141, 113, 134, 121, 140, 113, 134, 121, 140, 113, 130, 129, 133, 122, 139, 113, 130, 128, 133, 122, 139, 113, 131, 127, 133, 123, 138, 114, 132, 126, 132, 124, 137, 116, 131, 126, 132, 125, 136, 117, 131, 124, 133, 125, 135, 118, 130, 123, 133, 125, 134, 120, 130, 123, 134, 125, 133, 121, 129, 122, 135, 125, 132, 122, 128, 122, 136, 124, 133, 123, 127, 122, 136, 123, 133, 123, 126, 122, 137, 122, 134, 122, 125, 123, 137, 122, 135, 122, 124, 123, 136, 122, 135, 122, 136, 121, 135, 121, 125, 124, 135, 122, 136, 121, 134, 122
};





  int tabdurer[combientabd] =
    { 
45, 32, 65, 45, 65, 64, 35, 44, 56, 48, 63, 71, 26, 79, 26, 24, 13, 22, 11, 11, 28, 57, 10, 12, 25, 79, 26, 30, 5, 44, 29, 26, 7, 31, 5, 6, 29, 30, 6, 43, 30, 78, 27, 23, 12, 43, 28, 25, 12, 41, 27, 27, 10, 43, 26, 22, 18, 40, 25, 28, 13, 40, 25, 26, 13, 39, 28, 81, 26, 28, 14, 36, 25, 28, 17, 36, 25, 35, 7, 15, 15, 10, 26, 56, 17, 6, 28, 27, 7, 44, 27, 24, 15, 23, 46, 57, 54, 50, 22, 5, 29, 49, 56, 52, 19, 14, 27, 39, 27, 16, 25, 41, 22, 17, 25, 42, 25, 15, 26, 45, 20, 16, 27, 43, 21, 18, 25, 46, 18, 19, 24, 46, 20, 19, 23, 47, 18, 19, 23, 49, 19, 18, 24, 47, 18, 18, 24, 49, 18, 18, 23, 46, 20, 18, 26, 46, 19, 17, 26, 47, 18, 18, 24, 48, 16, 20, 25, 46, 18, 19, 24, 48, 18, 19, 24, 45, 20, 18, 25, 47, 19, 16, 26, 46, 20, 18, 23, 46, 21, 16, 24, 49, 19, 18, 24, 47, 19, 18, 23, 47, 21, 14, 27, 44, 20, 17, 26, 47, 19, 15, 27, 46, 20, 17, 24, 46, 21, 16, 23, 46, 20, 17, 26, 46, 18, 18, 25, 46, 19, 16, 26, 43, 22, 17, 25, 42, 22, 18, 25, 40, 23, 17, 26, 39, 25, 18, 25, 40, 24, 16, 25, 38, 27, 18, 25, 38, 23, 20, 25, 36, 24, 21, 26, 35, 25, 20, 26, 36, 25, 19, 26, 33, 26, 21, 25, 36, 25, 20, 26, 34, 26, 20, 26, 36, 24, 21, 25, 35, 25, 21, 25, 37, 24, 20, 26, 36, 24, 20, 25, 37, 24, 20, 26, 37, 23, 20, 26, 35, 25, 21, 25, 37, 24, 20, 26, 36, 25, 19, 26, 38, 23, 20, 26, 36, 25, 19, 26, 35, 27, 19, 25, 37, 24, 20, 26, 37, 25, 20, 25, 37, 24, 21, 25, 35, 24, 21, 26, 36, 25, 20, 25, 37, 26, 20, 25, 36, 26, 19, 26, 36, 26, 20, 24, 38, 25, 20, 24, 38, 24, 21, 25, 35, 27, 19, 25, 40, 23, 20, 25, 38, 23, 21, 25, 35, 27, 20, 26, 37, 24, 20, 26, 38, 25, 19, 25, 37, 26, 20, 24, 37, 25, 21, 25, 39, 22, 21, 24, 38, 25, 21, 23, 37, 27, 19, 24, 30, 35, 18, 25, 39, 24, 21, 23, 33, 30, 20, 23, 32, 32, 20, 24, 33, 29, 21, 23, 33, 30, 20, 25, 32, 30, 20, 25, 34, 28, 19, 25, 33, 29, 20, 25, 34, 29, 20, 25, 32, 29, 20, 25, 31, 30, 21, 24, 32, 30, 21, 25, 34, 27, 21, 24, 33, 29, 21, 24, 31, 32, 21, 24, 32, 29, 21, 24, 30, 33, 21, 24, 35, 26, 20, 24, 34, 29, 21, 24, 34, 27, 22, 25, 32, 28, 21, 25, 34, 27, 22, 23, 34, 28, 21, 25, 32, 30, 20, 25, 36, 26, 21, 24, 36, 27, 20, 24, 37, 25, 21, 24, 37, 26, 19, 25, 37, 24, 22, 23, 38, 26, 19, 26, 36, 25, 21, 25, 36, 26, 20, 24, 35, 28, 20, 24, 37, 26, 20, 25, 36, 26, 19, 25, 35, 26, 20, 25, 37, 24, 21, 26, 35, 26, 21, 24, 36, 25, 21, 25, 35, 25, 20, 25, 37, 24, 22, 24, 37, 25, 19, 25, 38, 23, 21, 24, 39, 23, 21, 25, 38, 23, 21, 24, 38, 23, 20, 25, 38, 24, 20, 24, 38, 25, 20, 24, 37, 25, 20, 24, 40, 23, 19, 25, 39, 23, 20, 25, 38, 23, 20, 26, 40, 22, 19, 25, 39, 24, 21, 24, 36, 26, 21, 24, 37, 25, 21, 25, 37, 24, 21, 25, 38, 23, 21, 25, 35, 26, 22, 23, 35, 27, 22, 24, 35, 27, 20, 25, 34, 28, 20, 25, 34, 28, 20, 24, 37, 24, 22, 24, 37, 26, 20, 23, 38, 25, 22, 22, 39, 25, 20, 24, 39, 24, 21, 23, 39, 25, 19, 24, 41, 22, 21, 24, 42, 22, 19, 24, 42, 23, 19, 23, 44, 21, 21, 22, 45, 21, 20, 23, 25, 6, 14, 21, 19, 22, 45, 20, 19, 25, 46, 19, 19, 23, 46, 19, 20, 23, 48, 19, 20, 22, 27, 4, 16, 21, 18, 21, 24, 8, 17, 20, 18, 22, 22, 11, 17, 20, 18, 21, 21, 11, 17, 19, 20, 21, 21, 12, 17, 19, 19, 22, 19, 11, 18, 21, 18, 22, 19, 12, 19, 20, 18, 21, 19, 9, 22, 20, 20, 21, 19, 8, 22, 21, 18, 22, 48, 20, 20, 22, 21, 4, 23, 19, 20, 24, 45, 20, 20, 24, 20, 3, 23, 20, 20, 25, 45, 20, 20, 25, 45, 21, 19, 25, 45, 21, 19, 24, 45, 21, 20, 25, 44, 19, 22, 24, 45, 20, 21, 24, 45, 20, 20, 26, 41, 23, 19, 26, 42, 21, 21, 25, 42, 22, 19, 26, 43, 20, 21, 26, 40, 22, 20, 25, 44, 20, 21, 23, 44, 21, 20, 25, 43, 19, 21, 24, 42, 21, 21, 24, 44, 21, 21, 23, 43, 21, 20, 24, 45, 20, 19, 24, 43, 21, 21, 24, 43, 21, 19, 25, 44, 20, 20, 23, 44, 21, 20, 23, 45, 20, 21, 23, 45, 20, 20, 22, 47, 19, 20, 22, 46, 21, 19, 22, 46, 21, 19, 22, 46, 20, 20, 22, 44, 21, 21, 23, 43, 21, 20, 23, 42, 22, 20, 24, 42, 22, 19, 24, 44, 20, 20, 22, 46, 21, 18, 25, 44, 20, 19, 24, 46, 20, 18, 24, 45, 21, 18, 24, 46, 20, 19, 22, 22, 9, 17, 19, 20, 21, 24, 9, 17, 17, 20, 22, 20, 12, 17, 19, 18, 22, 22, 9, 19, 19, 18, 22, 19, 13, 17, 20, 19, 21, 18, 12, 19, 20, 18, 22, 19, 11, 19, 20, 19, 22, 18, 11, 21, 19, 19, 22, 17, 11, 21, 19, 20, 22, 17, 10, 22, 21, 21, 21, 15, 11, 22, 21, 20, 24, 14, 9, 21, 23, 20, 25, 44, 21, 22, 22, 45, 21, 21, 23, 46, 21, 22, 22, 46, 21, 21, 24, 20, 4, 21, 21, 20, 23, 22, 7, 18, 20, 21, 22, 22, 9, 17, 20, 21, 22, 21, 10, 19, 18, 20, 24, 20, 8, 20, 19, 20, 23, 17, 13, 19, 19, 20, 22, 19, 11, 19, 19, 19, 23, 19, 11, 19, 19, 19, 21, 20, 12, 19, 19, 18, 21, 19, 12, 19, 19, 20, 22, 16, 14, 19, 20, 17, 23, 17, 12, 19, 19, 20, 21, 19, 10, 22, 18, 19, 22, 19, 8, 21, 19, 20, 20, 20, 10, 20, 19, 18, 22, 18, 9, 22, 17, 21, 22, 19, 7, 21, 20, 17, 23, 45, 19, 20, 22, 48, 18, 19, 24, 45, 18, 21, 22, 46, 18, 21, 23, 44, 20, 20, 23, 43, 21, 21, 23, 43, 19, 22, 23, 41, 21, 22, 23, 43, 20, 21, 24, 41, 21, 20, 24, 38, 24, 21, 24, 38, 23, 22, 24, 39, 23, 21, 24, 40, 20, 21, 24, 40, 23, 20, 25, 39, 23, 21, 23, 41, 21, 21, 24, 42, 19, 22, 24, 41, 23, 18, 25, 45, 19, 21, 22, 45, 20, 21, 22, 26, 5, 16, 19, 20, 20, 26, 7, 17, 18, 20, 20, 24, 12, 14, 19, 20, 21, 20, 15, 17, 15, 20, 22, 21, 16, 16, 17, 18, 21, 20, 15, 19, 17, 18, 20, 20, 14, 22, 15, 18, 22, 17, 18, 19, 16, 19, 21, 17, 16, 20, 20, 18, 19, 16, 17, 19, 20, 19, 22, 14, 16, 21, 19, 20, 22, 13, 14, 20, 21, 20, 21, 16, 12, 19, 23, 18, 25, 16, 7, 23, 21, 20, 24, 44, 19, 23, 22, 14, 10, 23, 21, 18, 25, 46, 20
};

int pass1=0;
int pass2=0;



  for(int positiontab = position1; positiontab<position2; positiontab++)
   {

        if(positiontab%2)
                {
	pass1 = tabamplitude[positiontab] - int(tabamplitude[positiontab] * 0.01 * quelpiano2);
	pass2 = int(tabdurer[positiontab] * 0.01 * quelpiano3);

	}
        else
                {
	pass1 = tabamplitude[positiontab] + int(tabamplitude[positiontab] * 0.01 * quelpiano4);
	pass2 = int(tabdurer[positiontab] * 0.01 * quelpiano5);
	}

	if(pass1<16)
	pass1=16;

	if(pass2<4)
	pass2=4;

	if(pass1 >239)
	pass1=239;

	if(pass2>250)
	pass2=250;

        fprintf(fichierjo,  "%c%c",    (char)(pass1), (char)(pass2));

}



    for(int pourquelpiano9 = quelpiano9; pourquelpiano9 > 0; pourquelpiano9--)
     {
        fprintf(fichierjo,  "%c%c",    (char)130, (char)250);

     }

// fin  multiplie
   }
 
  fclose(fichierjo);

       }

// fin de la zone de travail de l'apprenant
